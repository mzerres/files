<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Our superheroes</title>
    <link href="https://fonts.googleapis.com/css?family=Faster+One" rel="stylesheet">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
      <header>
      </header>
      <section>
      </section>
<p id=demo></p>
<p>paragraph 2</p>
    <script>
        // https://developer.mozilla.org/de/docs/Learn/JavaScript/Objects/JSON
        // Parsing = Zeichenkette in natives Objekt umwandeln
        const header = document.querySelector('header'); //gibt das erste Element (hier header) innerhalb eines Dokuments zur√ºck
        const section = document.querySelector('section');
   
        
        let requestURL = 'https://raw.githubusercontent.com/mzerres/files/master/superheroes.json';
        let request = new XMLHttpRequest();
        request.open('GET', requestURL);
        request.responseType = 'json';
        request.send();
        
        request.onload = function() {
            const superHeroes = request.response;
            populateHeader(superHeroes);
            showHeroes(superHeroes);
        }
        
        function populateHeader(jsonObj) {
            const myH1 = document.createElement('h1');
            myH1.textContent = jsonObj['squadName'];
            header.appendChild(myH1);

            const myPara = document.createElement('p');
            myPara.textContent = 'Hometown: ' + jsonObj['homeTown'] + ' // Formed: ' + jsonObj['formed'];
            header.appendChild(myPara);
        }
        
        function showHeroes(jsonObj) {
            const heroes = jsonObj['members'];
            const cardGroup = document.createElement('div');
                
            for (let i = 0; i < heroes.length; i++) {
                const card = document.createElement('div');
                const cardImage = document.createElement('img');
                const cardBody = document.createElement('div');
                const cardTitle = document.createElement('div');
                const cardText = document.createElement('div');
                const myH2 = document.createElement('h5');
                const myPara1 = document.createElement('p');
                const myPara3 = document.createElement('p');
                const myList = document.createElement('ul');
                const br = document.createElement('br');
                const a = document.createElement('a');
                const table = document.createElement('table');
                const tr = document.createElement('tr');
                
                var superPowers = heroes[i].powers;
                for (var j = 0; j < superPowers.length; j++) {
                    var listItem = document.createElement('li');
                    listItem.textContent = superPowers[j];
                    myList.appendChild(listItem);
                }
                
                //var costs = heroes[i].costs;
                //for (var c = 0; c < costs.length; c++) {
                    //var td = document.createElement('td');
                    //td.textContent = costs[c];
                    //tr.appendChild(td);
                //}
                
                
                // Add classes
                cardGroup.className = 'card-group';
                card.className = 'card';
                cardBody.className = 'card-body';
                cardTitle.className = 'card-title';
                cardText.className = 'card-text';
                cardImage.className = 'card-img-top';
                a.className = 'btn btn-primary';
                table.className = 'table table-bordered';
                
                myH2.textContent = heroes[i].name;
                myPara1.textContent = 'Secret identity: ' + heroes[i].secretIdentity + '\n\r' + 'Age: ' + heroes[i].age ;
                myPara1.innerHTML = myPara1.innerHTML.replace(/\n\r?/g, '<br />');
                myPara3.textContent = 'Superpowers:';
                cardImage.src = heroes[i].path + '/' + heroes[i].image;
                cardImage.alt = heroes[i].image;
                a.title = heroes[i].url;
                a.href = heroes[i].url;
                const linkText = document.createTextNode("more");
 
                section.appendChild(cardGroup);
                cardGroup.appendChild(card);
                card.appendChild(cardImage);
                card.appendChild(cardBody);
                cardBody.appendChild(cardTitle);
                cardBody.appendChild(cardText);
                cardTitle.appendChild(myH2);
                cardText.appendChild(myPara1);
                cardText.appendChild(myPara3);
                cardText.appendChild(myList);
                cardText.appendChild(a);
                a.appendChild(linkText);
                cardText.appendChild(table);
                table.appendChild(tr);
                
                cardGroup.appendChild(card);
            }
        }
function myFunction() {
  var x = document.URL;
  document.getElementById("demo").innerHTML = x;
}
myFunction()


const person = {
  name: ['Bob', 'Smith'],
  age: 32,
  gender: 'male',
  interests: ['music', 'skiing'],
  bio: function() {
    alert(this.name[0] + ' ' + this.name[1] + ' is ' + this.age + ' years old. He likes ' + this.interests[0] + ' and ' + this.interests[1] + '.');
  },
  greeting: function() {
    alert('Hi! I\'m ' + this.name[0] + '.');
  }
};
    </script>
  </body>
</html>
